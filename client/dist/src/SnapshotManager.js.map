{"version":3,"file":"SnapshotManager.js","sourceRoot":"","sources":["../../src/SnapshotManager.ts"],"names":[],"mappings":"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"}