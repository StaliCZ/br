<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<script src="http://192.168.0.2:8888/socket.io/socket.io.js"></script>
	<title>Battle royale</title>
	<style>
		*{
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		body{
			overflow: hidden;
		}
		canvas#gameScreen{
			cursor: none;
		}
		canvas#helper{
			display: none;
			position: absolute;
			top:0;
			left:0;
		}
		.menu{
			border-radius: 5px;
			border: 3px solid gray;
			background: silver;
			width: 250px;
			height: 250px;
			position: absolute;
			top: 50%;
			left: 50%;
			margin-left: -125px;
			margin-top: -125px;
			padding: 0 20px;
			display: none;
			z-index: 10;
		}
		#editorContainer{
			display: none;
		}
		#editorMenuContainer{
			width: 15%;
			height: 100%;
			position: absolute;
			top: 0;
			left: 0;
			background: silver;
			overflow: scroll;
		}
		#editorScreenContainer{
			width: 85%;
			height: 100%;
			position: absolute;
			top: 0;
			left: 15%;
			overflow: scroll;
			background: white;
		}
		#editorMenuContainer img{
			width: 100px;
			height: 100px;
			background:#A2CB69;
			border: 1px solid gray;
		}
		#editorMenuContainer img:hover{
			border-color: red !important;
		}

		#terrainWaterTriangle2{
			transform:rotate(90deg);
		}
		#terrainWaterTriangle3{
			transform:rotate(180deg);
		}
		#terrainWaterTriangle4{
			transform:rotate(270deg);
		}
		#zoneSVG{
			position: absolute;
			top:0;
			left:0;
			cursor:url(img/cursor.png) 12 12, auto;
		}
		#mainMenu{
			display: block;
		}
		#alertMenu{
			background: pink;
		}
	</style>
</head>
<body>
	<canvas id="gameScreen" width="1" height="1"></canvas>
	<svg id="zoneSVG" width="0" height="0">
		<mask id="maskSVG">
			<rect fill="white" width="100%" height="100%"/>
			<circle id="zoneCircle" cx="0" cy="0" r="0" fill="black" />
		</mask>
		<rect id="zoneRect" mask="url(#maskSVG)" fill="red" width="100%" height="100%" opacity="0.6" />
	</svg>

	<div class="menu" id="mainMenu">
		<h1>Mini battle royale</h1>
		<p id="mainMenuIp">+</p>
		<input id="mainMenuName" type="text" maxlength="20" placeholder="Your name" value="" autocomplete="off" autofocus>
		<h2>Join</h2>
		<select id="mainMenuGames" disabled></select>
		<button id="mainMenuJoin" disabled>Join the game</button>
		<h2>Create</h2>
		<select id="mainMenuMaps"></select>
		<button id="mainMenuCreate" disabled>Create a new game</button>
		
		<button id="mainMenuOpenEditor">Map editor</button>
		<button id="mainMenuControls">Game controls</button>
	</div>

	<div class="menu" id="lobbyMenu">
		<h1 id="lobbyMenuGameName"></h1>
		<ul id="lobbyMenuPlayers"></ul>
		<div id="lobbyMenuForJoinPlayer">
			<p>Waiting for players...</p>
			<button id="lobbyMenuLeave">Leave the game</button>
		</div>
		<div id="lobbyMenuForCreatePlayer">
			<button id="lobbyMenuStart">Launch the game</button>
			<button id="lobbyMenuCancel">Cancel the game</button>
		</div>
	</div>		

	<div class="menu" id="mapSizeMenu">
			<h1>Map size</h1>
			<p>Size [blocks]</p>
			<select id="mapSizeValue">
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5" selected>5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
			</select>
			<p>
				<button id="mapSizeOk">OK</button>
				<button id="mapSizeBack">Back</button>
			</p>
	</div>

	<div class="menu" id="mapMenu">
        <h1>Map editor</h1>
        <button id="mapMenuCreate">Create a new map</button>
        <button id="mapMenuOpenMap">Open the created maps</button>
        <button id="mapMenuBack">Back</button>
	</div>

	<div class="menu" id="mapEditorMenu">
		<h1>Map editor</h1>
		<input id="mapEditorMenuName" type="text" maxlength="20" placeholder="Map name" value="" autocomplete="off">
		<button id="mapEditorMenuSave">Save</button>
		<button id="mapEditorMenuChangeSize">Change map size</button>
		<button id="mapEditorMenuBack">Back</button>
		<button id="mapEditorMenuClose">Close editor</button>
	</div>

	<div class="menu" id="openMapMenu">
        <h1>Open map</h1>
        <select id="openMapMenuMaps"></select>
        <button id="openMapMenuOk">OK</button>
        <button id="openMapMenuBack">Back</button>
	</div>
	
	<div class="menu" id="controlsMenu">
        <h1>Game controls</h1>
        <p>Move: <b>A, W, S, D</b>.</p>
        <p>Hit / Shoot: <b>Mouse</b>.</p>
        <button id="controlsMenuBack">Back</button>
	</div>
	
	<div class="menu" id="alertMenu">
		<h1>Not allowed character!</h1>
		<p>Please change that name.</p>
		<p>Allowed characters:</p>
		<p><b>abcdefghijklmnopqrstuvwxyz</b><br /><b>ABCDEFGHIJKLMNOPQRSTUVWXYZ</b><br /><b>0123456789</b><br /> and <b>space</b></p>
		<button id="alertMenuOk">OK</button>
	</div>

	<div id="editorContainer">
		<div id="editorMenuContainer">
			<button id="editorOpenMenu">Editor menu</button>
			<div id="editorCoordinates"></div>
			<div id="editorTerrainImgs">
				<img id="terrainWater" src="img/water.png">
				<img id="terrainGrass" src="img/grass.png">
				<img id="terrainWaterTriangle3" src="img/waterTriangle.png">
				<img id="terrainWaterTriangle4" src="img/waterTriangle.png">
				<img id="terrainWaterTriangle2" src="img/waterTriangle.png">
				<img id="terrainWaterTriangle1" src="img/waterTriangle.png">
			</div>
			<div id="editorObjectImgs">
				<img id="editorObjectBush" src="img/bush.svg">
				<img id="editorObjectRock" src="img/rock.svg">
				<img id="editorObjectTree" src="img/tree.svg">
				<img id="editorObjectRect" src="img/rect.png">
				<img id="editorObjectDelete" src="img/delete.png">
			</div>
		</div>
		<div id="editorScreenContainer">
			<canvas id="editorScreen" width="1" height="1"></canvas>
		</div>
	</div>
	<canvas id="helper"></canvas>
	<script src="app.js"></script>
</body>
</html>