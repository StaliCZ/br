{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/view.ts","webpack:///./src/hand.ts","webpack:///./src/player.ts","webpack:///./src/terrain.ts","webpack:///./src/map.ts","webpack:///./src/waterTerrainData.ts","webpack:///./src/model.ts","webpack:///./src/controller.ts","webpack:///./src/app.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","View","waterTerrainData","_this","this","resolutionAdjustment","canvas","document","getElementById","helperCanvas","ctx","getContext","playerSVG","Image","src","playerHandSVG","waterTrianglePNG","onload","saveWaterPixels","screenResize","width","window","innerWidth","height","innerHeight","console","log","changeResolutionAdjustment","finalAdjustment","waterType","fillStyle","fillRect","middleImage","save","translate","rotate","Math","PI","drawImage","restore","Worker","worker","onmessage","e","setData","data","type","getImageData","postMessage","size","time","Date","getTime","draw","map","player","clearRect","playerCenterX","getX","playerCenterY","getY","screenCenterX","screenCenterY","gridSize","blocks","x","_i","_a","length","block","y","_b","_c","terrain","angle","_d","_e","hands","Hand","playerSize","shiftAngle","hitTimer","playerRadius","ready","moveHand","playerAngle","direction","playerX","playerY","playerAngleForHand","round","sin","cos","hit","Player","speed","push","hand","getCenterX","getCenterY","getAngle","setAngle","random","playerMove","up","left","down","right","mouseX","mouseY","myXPositionOnTerrain","myYPositionOnTerrain","includeWater","sqrt","centerX","centerY","abs","atan","yy","xx","WaterTerrainData","waterTriangle1","waterTriangle2","waterTriangle3","waterTriangle4","Error","waterData","state","model_Model","Model","keys","mouse","src_waterTerrainData","view","src_map","gameLoop","requestAnimationFrame","w","a","Controller","middle","model","addEventListener","keysController","mouseController","run","instance","getElementsByTagName","code"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import Player from './player';\r\nimport Map from './map';\r\nimport WaterTerrainData from './waterTerrainData';\r\n\r\nexport default class View {\r\n\tprivate canvas: HTMLCanvasElement;\r\n\tprivate helperCanvas: HTMLCanvasElement;\r\n\tprivate ctx: CanvasRenderingContext2D;\r\n\tprivate playerSVG: HTMLImageElement;\r\n\tprivate playerHandSVG: HTMLImageElement;\r\n\tprivate waterTrianglePNG: HTMLImageElement;\r\n\tprivate waterTerrainData: WaterTerrainData;\r\n\tprivate resolutionAdjustment: number = 1;\r\n\r\n\tconstructor(waterTerrainData: WaterTerrainData) {\r\n\t\tthis.canvas = <HTMLCanvasElement>document.getElementById('gameScreen');\r\n\t\tthis.helperCanvas = <HTMLCanvasElement>document.getElementById('helper');\r\n\t\tthis.ctx = this.canvas.getContext('2d');\r\n\t\tthis.playerSVG = new Image();\r\n\t\tthis.playerSVG.src = 'img/player.svg';\r\n\t\tthis.playerHandSVG = new Image();\r\n\t\tthis.playerHandSVG.src = 'img/hand.svg';\r\n\t\tthis.waterTrianglePNG = new Image();\r\n\t\tthis.waterTrianglePNG.src = 'img/waterTriangle.png';\r\n\t\tthis.waterTerrainData = waterTerrainData;\r\n\t\tthis.waterTrianglePNG.onload = () => {\r\n\t\t\tthis.saveWaterPixels('waterTriangle1');\r\n\t\t\tthis.saveWaterPixels('waterTriangle2');\r\n\t\t\tthis.saveWaterPixels('waterTriangle3');\r\n\t\t\tthis.saveWaterPixels('waterTriangle4');\r\n\t\t\t//this.waterTerrainData.write();\r\n\t\t};\r\n\t}\r\n\r\n\tscreenResize(): void {\r\n\t\tthis.canvas.width = window.innerWidth;\r\n\t\tthis.canvas.height = window.innerHeight;\r\n\t\tconsole.log('Resize: x: width ' + this.canvas.width + ' height: ' + this.canvas.height);\r\n\t\tthis.changeResolutionAdjustment();\r\n\t}\r\n\r\n\tprivate changeResolutionAdjustment(): void {\r\n\t\tconst defaultWidth = 1920;\r\n\t\tconst defaultHeight = 1050;\r\n\t\tconst width = this.canvas.width / defaultWidth;\r\n\t\tconst height = this.canvas.height / defaultHeight;\r\n\t\tconst finalAdjustment = (width + height) / 2;\r\n\t\tthis.resolutionAdjustment = finalAdjustment;\r\n\t\tconsole.log('finalAdjustment:', finalAdjustment);\r\n\t}\r\n\r\n\tprivate saveWaterPixels(waterType: string): void {\r\n\t\tconst ctx = this.helperCanvas.getContext('2d');\r\n\t\tlet waterData: boolean[][] = [];\r\n\t\tthis.helperCanvas.width = this.waterTrianglePNG.width;\r\n\t\tthis.helperCanvas.height = this.waterTrianglePNG.height;\r\n\t\t//white background\r\n\t\tctx.fillStyle = '#FFFFFF';\r\n\t\tctx.fillRect(0, 0, this.helperCanvas.width, this.helperCanvas.height);\r\n\t\tlet middleImage = this.waterTrianglePNG.width / 2;\r\n\t\tctx.save();\r\n\t\tctx.translate(middleImage, middleImage);\r\n\t\tswitch (waterType) {\r\n\t\t\tcase 'waterTriangle1':\r\n\t\t\t\tctx.rotate(0 * Math.PI / 180);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle2':\r\n\t\t\t\tctx.rotate(90 * Math.PI / 180);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle3':\r\n\t\t\t\tctx.rotate(180 * Math.PI / 180);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle4':\r\n\t\t\t\tctx.rotate(270 * Math.PI / 180);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tctx.drawImage(this.waterTrianglePNG, -middleImage, -middleImage);\r\n\t\tctx.restore();\r\n\r\n\t\t//worker\r\n\t\tif (typeof Worker !== 'undefined') {\r\n\t\t\tconst worker = new Worker('workerFindWater.js');\r\n\t\t\tworker.onmessage = (e) => {\r\n\t\t\t\t//console.log(new Date().getTime() - e.data.time, e.data);\r\n\t\t\t\tthis.waterTerrainData.setData(e.data.type, e.data.data);\r\n\t\t\t};\r\n\t\t\tconst data = ctx.getImageData(0, 0, this.waterTrianglePNG.width, this.waterTrianglePNG.height).data;\r\n\t\t\tworker.postMessage({\r\n\t\t\t\tdata,\r\n\t\t\t\tsize: this.waterTrianglePNG.width,\r\n\t\t\t\ttype: waterType,\r\n\t\t\t\ttime: new Date().getTime()\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Your browser doesn't support web workers.\");\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tconsole.time('a');\r\n\t\tfor (let x = 0; x < this.waterTrianglePNG.width; x++) {\r\n\t\t\twaterData[x] = [];\r\n\t\t\tfor (let y = 0; y < this.waterTrianglePNG.height; y++) {\r\n\t\t\t\t//const r = ctx.getImageData(x, y, 1, 1).data[0];\r\n\t\t\t\t//const g = ctx.getImageData(x, y, 1, 1).data[1];\r\n\t\t\t\tconst b = ctx.getImageData(x, y, 1, 1).data[2];\r\n\t\t\t\tif (b === 255) {\r\n\t\t\t\t\twaterData[x][y] = false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\twaterData[x][y] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.timeEnd('a');\r\n\t\tthis.waterTerrainData.setData(waterType, waterData);\r\n\t\t*/\r\n\t}\r\n\r\n\tdraw(map: Map, player: Player): void {\r\n\t\tconst ctx = this.ctx;\r\n\t\t//clear canvas\r\n\t\tctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n\t\t//center player\r\n\t\tconst playerCenterX = player.getX() + player.size / 2;\r\n\t\tconst playerCenterY = player.getY() + player.size / 2;\r\n\r\n\t\t//center screen\r\n\t\tconst screenCenterX = this.canvas.width / 2;\r\n\t\tconst screenCenterY = this.canvas.height / 2;\r\n\r\n\t\t//water\r\n\t\tctx.fillStyle = '#69A2E0';\r\n\t\tctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n\t\tconst gridSize = map.blocks[1].x * this.resolutionAdjustment;\r\n\t\t//grass\r\n\t\tfor (const block of map.blocks) {\r\n\t\t\tctx.fillStyle = '#A2CB69';\r\n\t\t\tconst x = screenCenterX + (block.x - playerCenterX) * this.resolutionAdjustment;\r\n\t\t\tconst y = screenCenterY + (block.y - playerCenterY) * this.resolutionAdjustment;\r\n\t\t\tctx.fillRect(x, y, gridSize, gridSize);\r\n\t\t}\r\n\r\n\t\t//terrain\r\n\t\tfor (const terrain of map.terrain) {\r\n\t\t\tctx.fillStyle = '#69A2E0';\r\n\t\t\t//position on screen from center\r\n\t\t\tconst x = screenCenterX + (terrain.x - playerCenterX) * this.resolutionAdjustment;\r\n\t\t\tconst y = screenCenterY + (terrain.y - playerCenterY) * this.resolutionAdjustment;\r\n\t\t\tif (terrain.type === 'water') {\r\n\t\t\t\tctx.fillRect(\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty,\r\n\t\t\t\t\tterrain.width * this.resolutionAdjustment,\r\n\t\t\t\t\tterrain.height * this.resolutionAdjustment\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (terrain.type === 'waterTriangle1') {\r\n\t\t\t\tctx.drawImage(\r\n\t\t\t\t\tthis.waterTrianglePNG,\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty,\r\n\t\t\t\t\tthis.waterTrianglePNG.width * this.resolutionAdjustment,\r\n\t\t\t\t\tthis.waterTrianglePNG.height * this.resolutionAdjustment\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tterrain.type === 'waterTriangle2' ||\r\n\t\t\t\tterrain.type === 'waterTriangle3' ||\r\n\t\t\t\tterrain.type === 'waterTriangle4'\r\n\t\t\t) {\r\n\t\t\t\tlet middleImage = terrain.width / 2 * this.resolutionAdjustment;\r\n\t\t\t\tthis.ctx.save();\r\n\t\t\t\tthis.ctx.translate(x + middleImage, y + middleImage);\r\n\t\t\t\tthis.ctx.rotate(terrain.angle * Math.PI / 180);\r\n\t\t\t\tthis.ctx.drawImage(\r\n\t\t\t\t\tthis.waterTrianglePNG,\r\n\t\t\t\t\t-middleImage,\r\n\t\t\t\t\t-middleImage,\r\n\t\t\t\t\tthis.waterTrianglePNG.width * this.resolutionAdjustment,\r\n\t\t\t\t\tthis.waterTrianglePNG.height * this.resolutionAdjustment\r\n\t\t\t\t);\r\n\t\t\t\tthis.ctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//mapGrid\r\n\t\tfor (const block of map.blocks) {\r\n\t\t\tctx.fillStyle = 'gray';\r\n\t\t\tconst x = screenCenterX + (block.x - playerCenterX) * this.resolutionAdjustment;\r\n\t\t\tconst y = screenCenterY + (block.y - playerCenterY) * this.resolutionAdjustment;\r\n\t\t\t//top\r\n\t\t\tif (block.y === 0) ctx.fillRect(x, y, gridSize, 1);\r\n\t\t\t//bottom\r\n\t\t\tctx.fillRect(x, y + gridSize, gridSize, 1);\r\n\t\t\t//left\r\n\t\t\tif (block.x === 0) ctx.fillRect(x, y, 1, gridSize);\r\n\t\t\t//right\r\n\t\t\tctx.fillRect(x + gridSize, y, 1, gridSize);\r\n\t\t}\r\n\r\n\t\t//player\r\n\t\tctx.drawImage(\r\n\t\t\tthis.playerSVG,\r\n\t\t\tscreenCenterX - player.size * this.resolutionAdjustment / 2,\r\n\t\t\tscreenCenterY - player.size * this.resolutionAdjustment / 2,\r\n\t\t\tthis.playerSVG.width * this.resolutionAdjustment,\r\n\t\t\tthis.playerSVG.height * this.resolutionAdjustment\r\n\t\t);\r\n\r\n\t\t//player hands\r\n\t\tfor (let i = 0; i < player.hands.length; i++) {\r\n\t\t\tctx.drawImage(\r\n\t\t\t\tthis.playerHandSVG,\r\n\t\t\t\tscreenCenterX + (player.hands[i].getX() - playerCenterX) * this.resolutionAdjustment,\r\n\t\t\t\tscreenCenterY + (player.hands[i].getY() - playerCenterY) * this.resolutionAdjustment,\r\n\t\t\t\tthis.playerHandSVG.width * this.resolutionAdjustment,\r\n\t\t\t\tthis.playerHandSVG.height * this.resolutionAdjustment\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n","export default class Hand {\r\n\treadonly size: number = 26;\r\n\tprivate x: number = 0;\r\n\tprivate y: number = 0;\r\n\tprivate playerRadius: number;\r\n\tprivate shiftAngle: number = 40;\r\n\tprivate hitTimer: number = 0;\r\n\r\n\tconstructor(playerSize: number) {\r\n\t\tthis.playerRadius = playerSize / 2;\r\n\t}\r\n\r\n\tready(): boolean{\r\n\t\treturn this.hitTimer === 0;\r\n\t}\r\n\r\n\tgetX(): number {\r\n\t\treturn this.x;\r\n\t}\r\n\r\n\tgetY(): number {\r\n\t\treturn this.y;\r\n\t}\r\n\r\n\tmoveHand(playerAngle: number, direction: number, playerSize: number, playerX: number, playerY: number): void {\r\n\t\tlet shiftAngle = this.shiftAngle;\r\n\t\tlet playerRadius = this.playerRadius;\r\n\t\t//hit move\r\n\t\tif (this.hitTimer > 0) {\r\n\t\t\tswitch (this.hitTimer) {\r\n\t\t\t\tcase 20:\r\n\t\t\t\t\tshiftAngle -= 4;\r\n\t\t\t\t\tplayerRadius += 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 19:\r\n\t\t\t\t\tshiftAngle -= 8;\r\n\t\t\t\t\tplayerRadius += 4;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 18:\r\n\t\t\t\t\tshiftAngle -= 12;\r\n\t\t\t\t\tplayerRadius += 6;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\tshiftAngle -= 16;\r\n\t\t\t\t\tplayerRadius += 8;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 16:\r\n\t\t\t\t\tshiftAngle -= 20;\r\n\t\t\t\t\tplayerRadius += 10;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 15:\r\n\t\t\t\t\tshiftAngle -= 24;\r\n\t\t\t\t\tplayerRadius += 12;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 14:\r\n\t\t\t\t\tshiftAngle -= 28;\r\n\t\t\t\t\tplayerRadius += 14;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tshiftAngle -= 32;\r\n\t\t\t\t\tplayerRadius += 16;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 12:\r\n\t\t\t\t\tshiftAngle -= 36;\r\n\t\t\t\t\tplayerRadius += 18;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 11:\r\n\t\t\t\t\tshiftAngle -= 40;\r\n\t\t\t\t\tplayerRadius += 20;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 10:\r\n\t\t\t\t\tshiftAngle -= 36;\r\n\t\t\t\t\tplayerRadius += 18;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tshiftAngle -= 32;\r\n\t\t\t\t\tplayerRadius += 16;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tshiftAngle -= 28;\r\n\t\t\t\t\tplayerRadius += 14;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tshiftAngle -= 24;\r\n\t\t\t\t\tplayerRadius += 12;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tshiftAngle -= 20;\r\n\t\t\t\t\tplayerRadius += 10;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tshiftAngle -= 16;\r\n\t\t\t\t\tplayerRadius += 8;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tshiftAngle -= 12;\r\n\t\t\t\t\tplayerRadius += 6;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tshiftAngle -= 8;\r\n\t\t\t\t\tplayerRadius += 4;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tshiftAngle -= 4;\r\n\t\t\t\t\tplayerRadius += 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tshiftAngle -= 0;\r\n\t\t\t\t\tplayerRadius += 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.hitTimer--;\r\n\t\t}\r\n\r\n\t\tlet playerAngleForHand = playerAngle + shiftAngle * direction;\r\n\t\t//0 - 359...\r\n\t\tif (playerAngleForHand < 0) playerAngleForHand = 359 + playerAngleForHand;\r\n\t\tif (playerAngleForHand > 359) playerAngleForHand = playerAngleForHand - 359;\r\n\t\t//triangle\r\n\t\tlet x = Math.round(Math.sin(playerAngleForHand * Math.PI / 180) * playerRadius);\r\n\t\tlet y = Math.round(Math.cos(playerAngleForHand * Math.PI / 180) * playerRadius);\r\n\t\t//set final position from center\r\n\t\tthis.x = playerX + playerSize / 2 + x - this.size / 2;\r\n\t\tthis.y = playerY + playerSize / 2 - y - this.size / 2;\r\n\t}\r\n\r\n\thit(): void {\r\n\t\tthis.hitTimer = 20;\r\n\t}\r\n}\r\n","import Hand from './hand';\r\nimport Map from './map';\r\n\r\nexport default class Player {\r\n\treadonly size: number = 100;\r\n\treadonly speed: number = 5;\r\n\tprivate x: number;\r\n\tprivate y: number;\r\n\tprivate angle: number = 0;\r\n\tprivate map: Map;\r\n\thands: Hand[];\r\n\tprivate canvas: HTMLCanvasElement;\r\n\tprivate ctx: CanvasRenderingContext2D;\r\n\r\n\tconstructor(map: Map) {\r\n\t\tthis.x = 300;\r\n\t\tthis.y = 300;\r\n\t\tthis.canvas = <HTMLCanvasElement>document.getElementById('gameScreen');\r\n\t\tthis.ctx = this.canvas.getContext('2d');\r\n\t\tthis.hands = [];\r\n\t\tthis.hands.push(new Hand(this.size));\r\n\t\tthis.hands.push(new Hand(this.size));\r\n\t\tthis.map = map;\r\n\t}\r\n\r\n\tprivate getCenterX(): number {\r\n\t\treturn Math.round(this.x + this.size / 2);\r\n\t}\r\n\r\n\tprivate getCenterY(): number {\r\n\t\treturn Math.round(this.y + this.size / 2);\r\n\t}\r\n\r\n\tgetX(): number {\r\n\t\treturn this.x;\r\n\t}\r\n\tgetY(): number {\r\n\t\treturn this.y;\r\n\t}\r\n\tgetAngle(): number {\r\n\t\treturn this.angle;\r\n\t}\r\n\tsetAngle(angle: number): void {\r\n\t\tthis.angle = angle;\r\n\t}\r\n\r\n\thit(): void {\r\n\t\tif (this.hands[0].ready() && this.hands[1].ready()) {\r\n\t\t\tlet random = Math.round(Math.random());\r\n\t\t\tthis.hands[random].hit();\r\n\t\t}\r\n\t}\r\n\r\n\tplayerMove(up: boolean, left: boolean, down: boolean, right: boolean, mouseX: number, mouseY: number): void {\r\n\t\t//standart speed on grass\r\n\t\tlet speed = this.speed;\r\n\r\n\t\t//speed in water\r\n\t\tfor (let i = 0; i < this.map.terrain.length; i++) {\r\n\t\t\t//terrain block is under me\r\n\t\t\t//my center\r\n\t\t\tif (\r\n\t\t\t\tthis.getCenterX() < this.map.terrain[i].x + this.map.terrain[i].width &&\r\n\t\t\t\tthis.getCenterX() >= this.map.terrain[i].x &&\r\n\t\t\t\tthis.getCenterY() < this.map.terrain[i].y + this.map.terrain[i].height &&\r\n\t\t\t\tthis.getCenterY() >= this.map.terrain[i].y\r\n\t\t\t) {\r\n\t\t\t\tif (this.map.terrain[i].type === 'water') {\r\n\t\t\t\t\tspeed = this.speed / 2;\r\n\t\t\t\t}\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.map.terrain[i].type === 'waterTriangle1' ||\r\n\t\t\t\t\tthis.map.terrain[i].type === 'waterTriangle2' ||\r\n\t\t\t\t\tthis.map.terrain[i].type === 'waterTriangle3' ||\r\n\t\t\t\t\tthis.map.terrain[i].type === 'waterTriangle4'\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst myXPositionOnTerrain = this.getCenterX() - this.map.terrain[i].x;\r\n\t\t\t\t\tconst myYPositionOnTerrain = this.getCenterY() - this.map.terrain[i].y;\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.map.waterTerrainData.includeWater(\r\n\t\t\t\t\t\t\tthis.map.terrain[i].type,\r\n\t\t\t\t\t\t\tmyXPositionOnTerrain,\r\n\t\t\t\t\t\t\tmyYPositionOnTerrain\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tspeed = this.speed / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//diagonal speed\r\n\t\tif ((up && left) || (up && right) || (down && left) || (down && right)) {\r\n\t\t\tspeed = speed / Math.sqrt(2);\r\n\t\t}\r\n\t\tif (up) this.y -= speed;\r\n\t\tif (down) this.y += speed;\r\n\t\tif (left) this.x -= speed;\r\n\t\tif (right) this.x += speed;\r\n\r\n\t\t//move only on map area\r\n\t\tif (this.x + this.size > this.map.width) this.x = this.map.width - this.size;\r\n\t\tif (this.x < 0) this.x = 0;\r\n\t\tif (this.y + this.size > this.map.height) this.y = this.map.height - this.size;\r\n\t\tif (this.y < 0) this.y = 0;\r\n\r\n\t\t//rotate player\r\n\t\t//triangular sides\r\n\t\tconst centerX = this.canvas.width / 2;\r\n\t\tconst centerY = this.canvas.height / 2;\r\n\t\tconst x = centerX - mouseX;\r\n\t\tconst y = centerY - mouseY;\r\n\t\t//atangens\r\n\t\tlet angle = Math.abs(Math.atan(x / y) * 180 / Math.PI);\r\n\t\t//1..2..3..4.. Q; 0 - 90, 90 - 180...\r\n\t\t//1\r\n\t\tif (mouseX >= centerX && mouseY < centerY) {\r\n\t\t\tthis.angle = angle;\r\n\t\t}\r\n\t\t//2\r\n\t\tif (mouseX >= centerX && mouseY >= centerY) {\r\n\t\t\tthis.angle = 90 + 90 - angle;\r\n\t\t}\r\n\t\t//3\r\n\t\tif (mouseX < centerX && mouseY >= centerY) {\r\n\t\t\tthis.angle = 180 + angle;\r\n\t\t}\r\n\t\t//4\r\n\t\tif (mouseX < centerX && mouseY < centerY) {\r\n\t\t\tthis.angle = 270 + 90 - angle;\r\n\t\t}\r\n\t\tthis.angle = Math.round(this.angle);\r\n\t\tif (this.angle === 360) this.angle = 0;\r\n\r\n\t\t//change hands positions\r\n\t\tthis.hands[0].moveHand(this.angle, -1, this.size, this.x, this.y);\r\n\t\tthis.hands[1].moveHand(this.angle, 1, this.size, this.x, this.y);\r\n\t}\r\n}\r\n","export default class Terrain {\r\n\treadonly type: string;\r\n\treadonly x: number;\r\n\treadonly y: number;\r\n\treadonly width: number;\r\n\treadonly height: number;\r\n\treadonly angle: number = 0;\r\n\r\n\tconstructor(type: string, x: number, y: number, width: number, height: number) {\r\n\t\tthis.type = type;\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'waterTriangle2':\r\n\t\t\t\tthis.angle = 90;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle3':\r\n\t\t\t\tthis.angle = 180;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle4':\r\n\t\t\t\tthis.angle = 270;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n","import Terrain from './terrain';\r\nimport WaterTerrainData from './waterTerrainData';\r\n\r\nexport type Block = {\r\n\tx: number;\r\n\ty: number;\r\n};\r\n\r\nexport default class Map {\r\n\treadonly width: number;\r\n\treadonly height: number;\r\n\treadonly blocks: Block[] = [];\r\n\treadonly terrain: Terrain[] = [];\r\n\treadonly waterTerrainData: WaterTerrainData;\r\n\r\n\tconstructor(waterTerrainData: WaterTerrainData) {\r\n\t\tthis.waterTerrainData = waterTerrainData;\r\n\t\tconst blockSize = 300;\r\n\t\tthis.width = 5 * blockSize;\r\n\t\tthis.height = 5 * blockSize;\r\n\t\t//Create blocks\r\n\t\tfor (let yy = 0; yy < this.height / blockSize; yy++) {\r\n\t\t\tfor (let xx = 0; xx < this.width / blockSize; xx++) {\r\n\t\t\t\tthis.blocks.push({ x: xx * blockSize, y: yy * blockSize });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//terrain\r\n\t\tthis.terrain.push(new Terrain('water', 0, 0, this.width, blockSize));\r\n\t\tthis.terrain.push(new Terrain('water', 0, this.height - blockSize, this.width, blockSize));\r\n\t\tthis.terrain.push(new Terrain('water', 0, blockSize, blockSize, this.height - 2 * blockSize));\r\n\t\tthis.terrain.push(\r\n\t\t\tnew Terrain('water', this.width - blockSize, blockSize, blockSize, this.height - 2 * blockSize)\r\n\t\t);\r\n\r\n\t\t//water trangle\r\n\t\tthis.terrain.push(new Terrain('waterTriangle1', blockSize, blockSize, blockSize, blockSize));\r\n\t\tthis.terrain.push(new Terrain('waterTriangle2', 3 * blockSize, blockSize, blockSize, blockSize));\r\n\t\tthis.terrain.push(new Terrain('waterTriangle3', 3 * blockSize, 3 * blockSize, blockSize, blockSize));\r\n\t\tthis.terrain.push(new Terrain('waterTriangle4', blockSize, 3 * blockSize, blockSize, blockSize));\r\n\t}\r\n}\r\n","/*\r\nimport { triangel1 } from './triangel1Data';\r\nimport { triangel2 } from './triangel2Data';\r\nimport { triangel3 } from './triangel3Data';\r\nimport { triangel4 } from './triangel4Data';\r\n*/\r\n\r\nexport default class WaterTerrainData {\r\n\tprivate waterTriangle1: boolean[][] = [];\r\n\tprivate waterTriangle2: boolean[][] = [];\r\n\tprivate waterTriangle3: boolean[][] = [];\r\n\tprivate waterTriangle4: boolean[][] = [];\r\n\r\n\t/*\r\n\tprivate waterTriangle1: number[][] = triangel1;\r\n\tprivate waterTriangle2: number[][] = triangel2;\r\n\tprivate waterTriangle3: number[][] = triangel3;\r\n\tprivate waterTriangle4: number[][] = triangel4;\r\n\t*/\r\n\r\n\tconstructor() {}\r\n\r\n\tsetData(type: string, data: boolean[][]): void {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'waterTriangle1':\r\n\t\t\t\tthis.waterTriangle1 = data;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle2':\r\n\t\t\t\tthis.waterTriangle2 = data;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle3':\r\n\t\t\t\tthis.waterTriangle3 = data;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle4':\r\n\t\t\t\tthis.waterTriangle4 = data;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('Unknown water type');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tincludeWater(type: string, x: number, y: number): boolean {\r\n\t\tlet state = false;\r\n\t\tlet waterData;\r\n\t\tswitch (type) {\r\n\t\t\tcase 'waterTriangle1':\r\n\t\t\t\twaterData = this.waterTriangle1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle2':\r\n\t\t\t\twaterData = this.waterTriangle2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle3':\r\n\t\t\t\twaterData = this.waterTriangle3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'waterTriangle4':\r\n\t\t\t\twaterData = this.waterTriangle4;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('Unknown water type');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (x < waterData.length && y < waterData[x].length) {\r\n\t\t\tif (waterData[x][y]) state = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//no water data yet\r\n\t\t\t//no water data == we are in water\r\n\t\t\tif (waterData.length === 0) {\r\n\t\t\t\tstate = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Error('Out of range on water type');\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn state;\r\n\t}\r\n\r\n\t/*\r\n\twrite(): void {\r\n\t\tconst el = document.createElement('p');\r\n\t\tel.style.position = 'absolute';\r\n\t\tel.style.top = '0';\r\n\t\tel.style.left = '0';\r\n\r\n\t\tel.textContent = JSON.stringify(this.waterTriangle4);\r\n\t\tdocument.body.appendChild(el);\r\n\t}\r\n\t*/\r\n}\r\n","import { Keys, Mouse } from './controller';\r\nimport View from './view';\r\nimport Player from './player';\r\nimport Map from './map';\r\nimport WaterTerrainData from './waterTerrainData';\r\n\r\nexport class Model {\r\n\tprivate view: View;\r\n\tprivate player: Player;\r\n\tprivate waterTerrainData: WaterTerrainData;\r\n\tprivate keys: Keys;\r\n\tprivate mouse: Mouse;\r\n\tprivate map: Map;\r\n\tconstructor(keys: Keys, mouse: Mouse) {\r\n\t\tthis.waterTerrainData = new WaterTerrainData();\r\n\t\tthis.view = new View(this.waterTerrainData);\r\n\t\tthis.map = new Map(this.waterTerrainData);\r\n\t\tthis.player = new Player(this.map);\r\n\t\tthis.keys = keys;\r\n\t\tthis.mouse = mouse;\r\n\t\tthis.gameLoop();\r\n\t}\r\n\r\n\tprivate gameLoop(): void {\r\n\t\t//repeat\r\n\t\trequestAnimationFrame(() => {\r\n\t\t\tthis.gameLoop();\r\n\t\t});\r\n\r\n\t\tthis.player.playerMove(this.keys.w, this.keys.a, this.keys.s, this.keys.d, this.mouse.x, this.mouse.y);\r\n\t\t//hit\r\n\t\tif (this.mouse.left) {\r\n\t\t\tthis.player.hit();\r\n\t\t\tthis.mouse.left = false;\r\n\t\t}\r\n\r\n\t\tthis.view.draw(this.map, this.player);\r\n\t}\r\n\r\n\tscreenResize(): void {\r\n\t\tthis.view.screenResize();\r\n\t}\r\n}\r\n","import { Model } from './model';\r\n\r\nexport type Keys = {\r\n\tw: boolean;\r\n\ta: boolean;\r\n\ts: boolean;\r\n\td: boolean;\r\n};\r\n\r\nexport type Mouse = {\r\n\tx: number;\r\n\ty: number;\r\n\tleft: boolean;\r\n\tmiddle: boolean;\r\n\tright: boolean;\r\n};\r\n\r\nexport class Controller {\r\n\tprivate static instance: Controller;\r\n\tprivate model: Model;\r\n\tprivate keys: Keys = {\r\n\t\tw: false,\r\n\t\ta: false,\r\n\t\ts: false,\r\n\t\td: false\r\n\t};\r\n\tprivate mouse: Mouse = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tleft: false,\r\n\t\tmiddle: false,\r\n\t\tright: false\r\n\t};\r\n\r\n\tprivate constructor() {\r\n\t\tthis.model = new Model(this.keys, this.mouse);\r\n\t\tthis.model.screenResize();\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tthis.model.screenResize();\r\n\t\t});\r\n\t\tthis.keysController();\r\n\t\tthis.mouseController();\r\n\t}\r\n\r\n\tstatic run(): void {\r\n\t\tif (!Controller.instance) {\r\n\t\t\tController.instance = new Controller();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('Only one controller!');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate mouseController(): void {\r\n\t\tconst canvas: HTMLCanvasElement = document.getElementsByTagName('canvas')[0];\r\n\t\tcanvas.addEventListener('mousemove', (e: MouseEvent) => {\r\n\t\t\tthis.mouse.x = e.x;\r\n\t\t\tthis.mouse.y = e.y;\r\n\t\t});\r\n\t\tcanvas.addEventListener('click', (e: MouseEvent) => {\r\n\t\t\tthis.mouse.left = true;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate keysController(): void {\r\n\t\tdocument.addEventListener('keydown', (e: KeyboardEvent) => {\r\n\t\t\tswitch (e.code) {\r\n\t\t\t\tcase 'KeyW':\r\n\t\t\t\t\tthis.keys.w = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'KeyA':\r\n\t\t\t\t\tthis.keys.a = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'KeyS':\r\n\t\t\t\t\tthis.keys.s = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'KeyD':\r\n\t\t\t\t\tthis.keys.d = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.addEventListener('keyup', (e: KeyboardEvent) => {\r\n\t\t\tswitch (e.code) {\r\n\t\t\t\tcase 'KeyW':\r\n\t\t\t\t\tthis.keys.w = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'KeyA':\r\n\t\t\t\t\tthis.keys.a = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'KeyS':\r\n\t\t\t\t\tthis.keys.s = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'KeyD':\r\n\t\t\t\t\tthis.keys.d = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","import { Controller } from './controller';\r\nController.run();\r\n"],"sourceRoot":""}